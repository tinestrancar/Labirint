<html>
    <head><title>Labirint</title>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>

    <body>
        <div id="zunanji">MESOJEDEC</div>

        <div id="main">
            <canvas id="mycanvas" width="740" height="620"></canvas>
            <script>
                
                var canvas = document.getElementById("mycanvas");
console.log(canvas);
var ctx = canvas.getContext("2d");

let map1 = [
"...##################################",
"...#..#..#........#........#........#",
"#..#..#..####..#..#######..#..#..#..#",
"#..#.....#.....#..............#..#..#",
"#..#..####..#######..#..#..####..####",
"#........#........#..#..#..#........#",
"#..#..#..###################..#..#..#",
"#..#..#..#..#..#..#.....#..#..#..#..#",
"#..#..####..#..#..#..#..#..#..#######",
"#..#........#........#........#.....#",
"#######..#..#..#######..####..####..#",
"#.....#..#........#..#..#.....#.....#",
"####..#..#..####..#..#############..#",
"#........#..#.....#..#...........#..#",
"#######..#..#..#..#..#..#..#######..#",
"#........#..#..#........#...........#",
"####..####..#..#..####..##########..#",
"#.....#..#..#..#..#..#.....#.....#..#",
"#######..#######..#..#..#######..####",
"#.....#........#.....#..#.....#.....#",
"#..#..#..####..#..#..####..####..#..#",
"#..#..#.....#.....#..#.....#.....#..#",
"#..#######..#######..#..#######..####",
"#.....#..#........#.................#",
"#..#..#..####..####..################",
"#..#..#........#..#........#..#.....#",
"####..#..#######..#..####..#..#..####",
"#..#.....#........#.....#..#.....#..#",
"#..#..#..#..################..#..#..#",
"#.....#.......................#.....",
"##################################..",
];




drawLab();
drawMc();
moveMan();


//character draw
function drawMc(){
    let x=0;
    let y=0;
    ctx.beginPath();
    ctx.fillStyle='purple';
    ctx.rect(x, y, 20, 20);
    ctx.fill();
}


//maze generator!!
function drawLab(){
    for(let i=0; i<map1.length; i++){
        let x=0;
        let y=i*20;
        for(let j=0; j<map1[i].length; j++){
            if(map1[i][j]=="#"){
                ctx.beginPath();
                ctx.rect(x, y, 20, 20);
                ctx.fill();
                x=x+20
                
            }
            else{
                x=x+20
            }
        } 
    }
}
         

        let x = 0;
        let y = 0;
        let vx = 0;
        let vy = 0;


        addEventListener("keydown", function (mycanvas){
            if(mycanvas.code = "KeyD") vx = 5;
            if(mycanvas.code = "KeyA") vx = -5;
            if(mycanvas.code = "KeyS") vy = 5;
            if(mycanvas.code = "KeyW") vy = -5;
        })

        addEventListener("keyup", function (mycanvas){
            if(mycanvas.code = "KeyD") vx = 0;
            if(mycanvas.code = "KeyA") vx = 0;
            if(mycanvas.code = "KeyS") vy = 0;
            if(mycanvas.code = "KeyW") vy = 0;
        })

        function update(){
            ctx.clearRect(0, 0, canvas.width, canvas.height)
            x += vx;
            y += vy;
            ctx.fillRect(x, y, 50, 50)
            requestAnimationFrame(update)
        }
        update()


            </script>
        </div>
    </body>


</html>